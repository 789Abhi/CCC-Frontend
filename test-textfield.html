<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextField Test</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-container { max-width: 600px; margin: 0 auto; }
        .debug-info { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px; font-family: monospace; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        function TextField({ label, value, onChange, placeholder, required, error }) {
            const handleChange = (e) => {
                const newValue = e.target.value;
                console.log('TextField onChange:', { 
                    field: label, 
                    oldValue: value, 
                    newValue: newValue, 
                    length: newValue.length,
                    words: newValue.split(' ').length
                });
                
                if (onChange) {
                    onChange(newValue);
                }
            };

            return (
                <div style={{ marginBottom: '16px' }}>
                    {label && <label style={{ display: 'block', fontSize: '14px', fontWeight: '500', marginBottom: '4px' }}>
                        {label}{required && <span style={{ color: 'red', marginLeft: '4px' }}>*</span>}
                    </label>}
                    <input
                        type="text"
                        style={{
                            width: '100%',
                            padding: '8px 12px',
                            border: '1px solid #d1d5db',
                            borderRadius: '6px',
                            fontSize: '16px'
                        }}
                        placeholder={placeholder}
                        value={value || ''}
                        onChange={handleChange}
                        required={required}
                    />
                    {error && <div style={{ fontSize: '12px', color: 'red', marginTop: '4px' }}>This field is required.</div>}
                    <div className="debug-info">
                        <strong>Debug Info:</strong><br/>
                        Value: "{value || ''}"<br/>
                        Length: {value?.length || 0}<br/>
                        Words: {value?.split(' ').length || 0}<br/>
                        Type: {typeof value}
                    </div>
                </div>
            );
        }

        function TestApp() {
            const [textValue, setTextValue] = React.useState('');
            const [textareaValue, setTextareaValue] = React.useState('');

            return (
                <div className="test-container">
                    <h1>TextField Component Test</h1>
                    <p>This test verifies that the TextField component can handle multiple words correctly.</p>
                    
                    <TextField
                        label="Test Text Field"
                        value={textValue}
                        onChange={setTextValue}
                        placeholder="Type multiple words here..."
                        required={true}
                    />
                    
                    <TextField
                        label="Another Text Field"
                        value={textareaValue}
                        onChange={setTextareaValue}
                        placeholder="Test another field..."
                    />
                    
                    <div style={{ marginTop: '20px', padding: '15px', backgroundColor: '#f8f9fa', borderRadius: '5px' }}>
                        <h3>Current Values:</h3>
                        <p><strong>Text Field:</strong> "{textValue}"</p>
                        <p><strong>Another Field:</strong> "{textareaValue}"</p>
                    </div>
                    
                    <div style={{ marginTop: '20px', padding: '15px', backgroundColor: '#e3f2fd', borderRadius: '5px' }}>
                        <h3>Test Instructions:</h3>
                        <ol>
                            <li>Type a single word in the first field</li>
                            <li>Add a space and type another word</li>
                            <li>Continue adding more words with spaces</li>
                            <li>Check the debug info below each field</li>
                            <li>Verify that all words are preserved</li>
                        </ol>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<TestApp />, document.getElementById('root'));
    </script>
</body>
</html>
